# Telegram 转发工具配置文件

# ============ 代理配置 ============
proxy:
  enabled: true                    # 是否启用代理
  proxy_type: http                 # 代理类型: socks5, socks4, http, mtproto
  addr: 127.0.0.1                  # 代理服务器地址
  port: 7890                       # 代理端口
  username: ""                     # 代理用户名(可选，留空表示无需认证)
  password: ""                     # 代理密码(可选，留空表示无需认证)

# ============ 账号配置 ============
accounts:
  - api_id: 21722171
    api_hash: "6dc06adcb5961d617c347d7776d2ec76"
    session_name: forward_session_1
    enabled: true
  
  # - api_id: 2XXXX
  #   api_hash: "7XXXX"
  #   session_name: forward_session_2
  #   enabled: true
  
  # 添加更多账号配置
  # - api_id: 你的第三个账号ID
  #   api_hash: "你的第三个账号Hash"
  #   session_name: forward_session_3
  #   enabled: true

# ============ 频道配置 ============
channels:
  # 资源频道列表 留空或设为 None 表示使用手动选择
  # 支持三种格式: 频道ID(-1001234567890) / 频道用户名("@example_channel") / 频道链接("https://t.me/example_channel")
  preset_source_channels: []
  
  # 转发信息目标频道
  preset_target_channel:  -100123456789


#---------------------------------建议默认---------------------------------------
# ============ 导出配置 ============
export:
  auto_export_channels: false      # 设置为 true 时，程序启动时自动导出频道信息
                                   # 仅使用导出功能：python TG_ZF.py export

# ============ 清理配置 ============
clean:
  auto_clean_violations: false     # 设置为 true 时，程序启动时自动清理违规消息
  scan_limit: null                 # 清理扫描范围（条消息），null表示扫描所有，建议设置为5000-10000
  batch_size: 100                  # 每次扫描的消息数量（进度显示间隔）
  delay: 1                         # 删除消息的延迟（秒）
                                   # 仅使用清理功能：python TG_ZF.py clean

# ============ 账号轮换配置 ============
account_rotation:
  enable_account_rotation: true    # 是否启用账号轮换
  rotation_interval: 500           # 每转发多少条消息后轮换账号
  account_delay: 5                 # 账号切换延迟（秒）
  enable_smart_account_switch: true # 是否启用智能账号切换（自动跳过无法访问频道的账号）

# ============ 转发配置 ============
forward:
  max_messages: null               # 最大转发消息数，null 表示全部消息
  delay_single: 2                  # 单条消息延迟（秒）
  delay_group: 2                   # 相册延迟（秒）
  forward_history_file: forward_history.json  # 转发历史记录文件（包含进度）
  batch_progress_interval: 100     # 批量进度显示间隔（条消息）

# ============ 广告过滤配置 ============
ad_filter:
  enable_ad_filter: true           # 是否启用广告过滤
  
  # 广告关键词列表
  ad_keywords: [
    推广, 广告, 营销, 代理, 加盟, 招商, 投资, 理财,
    店铺, 注册, 官方, 佣金, 汇旺, 官网注册, 返水,
    入款, 出款, 彩金, 资金保障, 提款
  ]
  
  # 广告正则模式
  ad_patterns:
    - 'https?://[^\s]+'            # 链接
    - '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'  # 邮箱
  
  min_message_length: 10           # 最小消息长度（过短可能是广告）
  max_links_per_message: 3         # 每条消息最大链接数

# ============ 内容质量过滤配置 ============
content_filter:
  enable_content_filter: true      # 是否启用内容质量过滤
  enable_media_required_filter: true  # 是否要求无意义消息必须有媒体内容
  
  # 无意义词汇列表
  meaningless_words: [
    "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", Cy, cy,
    嗯, 哦, 啊, 额, 呃, 哈, 呵, 嘿, 嗨,
    好的, ok, okay, "yes", "no", 是, 不是, 对, 不对,
    哈哈, 呵呵, 嘿嘿, 嘻嘻, 嘿嘿嘿, 哈哈哈, 插眼,
    顶, 赞, 👍, 👌, 😊, 😄, 😂, 😅,
    沙发, 板凳, 地板, 地下室, 前排, 后排,
    路过, 看看, 瞧瞧, 围观, 吃瓜, 打卡,
    签到, 报到, 冒泡, 潜水, 灌水, 水贴
  ]
  
  max_repeat_chars: 3              # 最大重复字符数（如"哈哈哈"超过3个字符）
  min_meaningful_length: 5         # 最小有意义内容长度
  max_emoji_ratio: 0.5             # 最大表情符号比例

# ============ 内容去重配置 ============
deduplication:
  enable_content_deduplication: true  # 是否启用内容去重
  dedup_history_file: dedup_history.json  # 去重历史记录文件
  target_channel_scan_limit: null  # 目标频道扫描范围（条消息），null表示扫描所有
  verbose_dedup_logging: false     # 是否显示详细的去重日志
                                   # true=显示每个重复相册，false=只在批量统计时显示
  # 去重策略：
  # - 相册：以整个相册组作为hash值判断
  # - 单条消息：基于媒体文件进行判断

# ============ 关联频道配置 ============
linked_channel:
  enable_linked_channel_support: true     # 是否启用关联频道支持
  force_forward_linked_channels: true     # 是否强制转发关联频道（跳过访问权限检查）
  # 关联频道：这些频道可能是其他频道的关联频道，你的账号没有加入但内容可以转发
  # 启用后，程序会尝试直接转发这些频道的内容，即使无法获取频道实体

